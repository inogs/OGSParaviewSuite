<ServerManagerConfiguration>
  <ProxyGroup name="filters">

   <SourceProxy name="OGSSpatialStatsFromFile" 
                class="vtkOGSSpatialStatsFromFile" 
                label="OGS Spatial Statistics From File">
     <Documentation
        long_help="This filter loads the spatial statistics computed by OGSTM BFM into the mesh."
        short_help="Loads the spatial statistics computed by OGSTM BFM into the mesh.">
        This filter requires a rectilinear grid and the basins mask active. It pulls the spatial
        statistics postprocess from OGSTM BFM and loads the results into the mesh.
     </Documentation>
     <InputProperty
        name="Input"
        command="SetInputConnection">
           <ProxyGroupDomain name="groups">
             <Group name="sources"/>
             <Group name="filters"/>
           </ProxyGroupDomain>
           <DataTypeDomain name="input_type">
             <DataType value="vtkRectilinearGrid"/>
           </DataTypeDomain>
      </InputProperty>

      <!-- BEGIN EXPOSED PROPERTIES -->

      <!-- Folder to load -->
      <StringVectorProperty animateable="0"
                            command="SetFolderName"
                            name="FolderName"
                            label="Folder stat profiles"
                            number_of_elements="1">
         <FileListDomain name="files" />
         <Documentation>
            This property points to the folder where the STAT_PROFILES
            are stored.
         </Documentation>
         <Hints>
            <FileChooser extensions="nc" file_description="NetCDF 4"/>
            <UseDirectoryName/> 
         </Hints>
      </StringVectorProperty>

      <!-- Statistical variables -->
      <StringVectorProperty name="StatInfo"
                            information_only="1">
        <ArraySelectionInformationHelper attribute_name="Stat" />
      </StringVectorProperty>

      <StringVectorProperty name="StatStatus"
                            command="SetStatArrayStatus"
                            number_of_elements="2"
                            repeat_command="1"
                            number_of_elements_per_command="2"
                            element_types="2 0"
                            information_property="StatInfo"
                            label="Statistics">
          <ArraySelectionDomain name="array_list">
          <RequiredProperties>
            <Property name="StatInfo" function="ArrayList" />
          </RequiredProperties>
        </ArraySelectionDomain>
        <Documentation>
          This property contains a list of all the statistics to compute.
        </Documentation>
     </StringVectorProperty>

     <!-- Selection of coasts mask -->
     <IntVectorProperty name="PerCoast"
                         label="Statistics per Coast"
                         command="Setper_coast"
                         number_of_elements="1"
                         default_values="0">
        <BooleanDomain name="bool"/>
        <Documentation>
          If this property is set to 1, the statistics will be obtained per basin and per coast.
        </Documentation>
     </IntVectorProperty>

     <!-- Name of basins mask array -->
     <StringVectorProperty name="bmask_field"
                           label="Basins mask: "
                           command="Setbmask_field"
                           animateable="1"
                           default_values="basins mask"
                           number_of_elements="1"
                           panel_visibility="advanced">
         <ArrayListDomain name="array_list"
                          attribute_type="Scalars"
          input_domain_name="inputs_array">
          <RequiredProperties>
            <Property name="Input" function="Input" />
          </RequiredProperties>
         </ArrayListDomain>
         <Documentation>
            Name of the basins mask field
         </Documentation>
     </StringVectorProperty>

     <!-- Name of coasts mask array -->
     <StringVectorProperty name="cmask_field"
                           label="Coast mask: "
                           command="Setcmask_field"
                           animateable="1"
                           default_values="coast mask"
                           number_of_elements="1"
                           panel_visibility="advanced">
         <ArrayListDomain name="array_list"
                          attribute_type="Scalars"
          input_domain_name="inputs_array">
          <RequiredProperties>
            <Property name="Input" function="Input" />
          </RequiredProperties>
         </ArrayListDomain>
         <Documentation>
            Name of the coast mask field
         </Documentation>
     </StringVectorProperty>

     <!-- Name of land mask array -->
     <StringVectorProperty name="lmask_field"
                           label="Land mask: "
                           command="Setlmask_field"
                           animateable="1"
                           default_values="land mask"
                           number_of_elements="1"
                           panel_visibility="advanced">
         <ArrayListDomain name="array_list"
                          attribute_type="Scalars"
          input_domain_name="inputs_array">
          <RequiredProperties>
            <Property name="Input" function="Input" />
          </RequiredProperties>
         </ArrayListDomain>
         <Documentation>
            Name of the land mask field
         </Documentation>
     </StringVectorProperty>

      <!-- END EXPOSED PROPERTIES -->
      
      <Hints>
        <Visibility replace_input="1" />
        <ShowInMenu category="OGS" />
        <RepresentationType view="RenderView" type="Surface" />
      </Hints>
   </SourceProxy>

 </ProxyGroup>
</ServerManagerConfiguration>

